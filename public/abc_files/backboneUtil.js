define(["jquery","backbone","underscore","util/init"],function(t,a){var n;return n=function(){function n(){}var e,o;return o=null,n.get=function(t){return this.options=t,null!=o?o:o=new e(this.options)},e=function(){function n(a){this.options=a,this.options=t.extend(!0,{},this.defaults,this.options)}return n.prototype.isAttribute=function(t){return"undefined"!==t&&t!==!1?!0:!1},n.prototype.shouldBypassLink=function(t,a){return app.BackboneEnabled===!1?!1:a.bypass?!1:this.isAttribute($this.attr("download"))?!1:void 0},n.prototype.initializeEvents=function(n){var e,o,i;return i=this,e=["[data-bypass]","[download]","[href*='.pdf']","[href*='.doc']","[target='_blank']",".nav-push"],o=e.join(","),n.off("click","a[data-use-ga]"),n.on("click","a[data-use-ga]",function(){var a,n,e,o,i,r;return a=t(this),i=a.attr("href"),r=a.data,e=a.data("ga-category"),n=a.data("ga-action"),o=a.data("ga-label"),(""===i||"#"===i)&&app.Analytics.trackEvent(e,n,o),!0}),n.off("click",'a[target="_blank"]'),n.on("click",'a[target="_blank"]',function(){var a,n,e,o,i,r;return a=t(this),i=a.data,r=a.attr("data-use-ga"),"true"!==r&&(e=a.data("ga-category"),n=a.data("ga-action"),o=a.data("ga-label"),app.Analytics.trackEvent(e,n,o)),!0}),n.off("click","a[href*='.pdf']"),n.on("click","a[href*='.pdf']",function(){var a,n,e,o;return a=t(this),n=a.prop("download"),o=a.prop("href"),e="undefined"!=typeof attr&&attr!==!1?n:o,app.Analytics.trackPageView(e),!0}),app.BackboneEnabled?(n.off("click","a[href]:not("+o+")",function(){}),n.on("click","a[href]:not("+o+")",function(n){var e,o,i,r,d,l;e=t(this),l=!0,e.hasClass("nav-push")&&(e.hasClass("expand")||(l=!1)),l&&(window.app.FilteredModules=!1,i={prop:e.prop("href"),attr:e.attr("href"),filteredModules:e.attr("data-filter-modules"),overrideTransition:e.attr("data-override-transition")},void 0!==i.filteredModules&&(window.app.FilteredModules=!0),void 0!==i.overrideTransition&&(window.app.OverrideTransition=!0),r=-1===i.prop.indexOf("#"),o=i.prop.indexOf("#")<i.prop.length-1&&0!==i.attr.indexOf("#"),d=""+location.protocol+"//"+location.host,i.attr.slice(0,d.length)===d&&(i.attr=i.attr.slice(d.length)),i.prop.slice(0,d.length)===d&&r?(n.preventDefault(),a.history.navigate(i.attr,!0)):i.prop.slice(0,d.length)===d&&!r&&o&&(n.preventDefault(),a.history.navigate(i.attr,!0)))})):void 0},n.prototype.defaults={$el:t(document),analytics:{gaClickAction:"Click",gaPDFAction:"PDF",gaOutboundCategory:"Outbound",gaDownloadCategory:"Download"}},n}(),n}()});