var __bind=function(t,o){return function(){return t.apply(o,arguments)}};define(["jquery","modules/global/subNavigation","util/util"],function(t,o,n){var e;return e=function(){function e(n){this.options=n,this.removeHoverClassEvent=__bind(this.removeHoverClassEvent,this),this.touchDropdownEvent=__bind(this.touchDropdownEvent,this),this.moreLinkEvent=__bind(this.moreLinkEvent,this),this.options=t.extend({},this.defaults,this.options),this.additionalSelectors(),this.delegateEvents(),this.calcNavWidth(),this.moreLinkEvent(),setTimeout(function(t){return function(){return t.moreLinkEvent()}}(this),1100),new o}return e.prototype.defaults={element:"#mainHeader",logo:".atp-logo",navWrap:".atp-nav-wrap",navWrapInner:".atp-nav-wrap-inner",sponsor:".atp-nav-sponsor",container:".atp-header-container",navList:".atp-nav-list",navItems:".atp-nav-item",header:"#header",menuToggle:"#controlMenu",hoverClass:"atp-touch-hover",headerContainer:".atp-header-container",moreText:"more",searchControl:"#controlSearch",moreWidth:98},e.prototype.additionalSelectors=function(){return this.options.$element=t(this.options.element),this.options.$logo=t(this.options.logo),this.options.$menuToggle=t(this.options.menuToggle),this.options.$navWrap=this.options.$element.find(this.options.navWrap),this.options.$navWrapInner=this.options.$element.find(this.options.navWrapInner),this.options.$sponsor=this.options.$element.find(this.options.sponsor),this.options.$container=this.options.$element.find(this.options.container),this.options.$navList=this.options.$element.find(this.options.navList),this.options.$navItems=this.options.$element.find(this.options.navItems),this.options.$window=t(window),this.options.$body=t("body"),this.options.$html=t("html"),this.options.$header=t(this.options.header),this.options.$headerContainer=this.options.$header.find(this.options.headerContainer),this.options.$searchControl=t(this.options.searchControl),this.updateCalcValue()},e.prototype.updateCalcValue=function(){},e.prototype.delegateEvents=function(){return this.fixedEvent(),this.options.$window.on("resize",this.moreLinkEvent),this.options.$window.on("load",this.moreLinkEvent),setTimeout(function(t){return function(){return t.moreLinkEvent()}}(this),1e3),t("body").on("click","*",this.removeHoverClassEvent),this.options.$element.on("click",""+this.options.navList+" > "+this.options.navItems+" > a[href]:not([href='#'])",this.touchDropdownEvent)},e.prototype.fixedEvent=function(){var o,n;return o=this,o.options.$body.hasClass("is-mobile")?(n=o.options.$header.height(),n>170&&(n=170),o.options.$body.css("padding-top",n),t("#headerSubNavigationDrawer").length?o.navSlideSubNav():void 0):o.options.$window.on("scroll",function(){var t;return t=o.options.$window.pageYOffset,t>80&&!o.options.$body.hasClass("fixed")?o.options.$body.addClass("fixed"):80>=t&&o.options.$body.hasClass("fixed")?o.options.$body.removeClass("fixed"):void 0})},e.prototype.navSlideSubNav=function(){var o,n,e,i,s;return s=this,n=t("#header"),i=t("header-sub-navigation-drawer").outerHeight(),o=t("#breakingNews"),e=t("#subNavigation"),this.options.$window.on("scroll",function(){var t;return t=s.options.$window.scrollTop(),t>i?(n.addClass("header--offset"),o.removeClass("expand"),e.removeClass("dropdown-on")):n.removeClass("header--offset")})},e.prototype.calcNavWidth=function(){},e.prototype.calcNavInnerWidth=function(){},e.prototype.moreLinkEvent=function(){},e.prototype.alignMenu=function(){},e.prototype.touchDropdownEvent=function(o){var e,i,s,r;return o.preventDefault(),i=t(o.currentTarget),e=i.parent(),r=i.attr("href"),s=i.attr("target"),this.options.$html.hasClass("device-using-touch")||n.isIpad()?e.hasClass(this.options.hoverClass)?n.navigateTo(r,!0,!1,s):(e.siblings().removeClass(this.options.hoverClass),e.addClass(this.options.hoverClass)):n.navigateTo(r,!0,!1,s)},e.prototype.removeHoverClassEvent=function(o){var n,e;return n=t(o.target),e=t(o.currentTarget),!n.closest("."+this.options.hoverClass).length||n.hasClass(this.options.hoverClass)?t("."+this.options.hoverClass).removeClass(this.options.hoverClass):void 0},e}()});