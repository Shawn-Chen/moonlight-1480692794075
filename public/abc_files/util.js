define(["jquery","backbone"],function(e,t){var n;return n=function(){function n(){}return n.ajaxModal=function(t){var r;return r=e.ajax({type:"GET",url:t.url,dataType:"html",success:function(e){return n.ajaxModalSuccess(t,e)}})},n.ajaxModalSuccess=function(t,n){return t.$element.remove(),e("body").append(n),"function"==typeof t.callBack?t.callBack(n):void 0},n.modalOpenFixScroll=function(){var t;return t=e(window).scrollTop(),40>t&&t>1&&!e("body").hasClass("is-mobile")?e("html, body").stop().animate({scrollTop:0}):void 0},n.navigateTo=function(n,r,a,o,i){var u,l;return null==a&&(a=!1),null==o&&(o="_self"),null==i&&(i=!1),l=this.parseUrl(n),l.hostname!==window.location.hostname?(window.open(n,o),!1):(u=e("body").hasClass("is-mobile"),"undefined"==typeof history.pushState||this.isIE9()||u?window.location=n:(window.app.FilteredModules=a,window.app.OverrideTransition=i,t.history.navigate(n,r)))},n.updateUrl=function(e){return"undefined"==typeof history.pushState&&this.isIE9()?void 0:t.history.history.pushState({},document.title,e)},n.updateQuery=function(e,t){var n;return n=this.updateQueryStringParameter(document.URL,e,t),this.updateUrl(n)},n.isMobile=function(){return/iPod|iPhone|Blackberry|Android|Windows Phone/i.test(navigator.userAgent)},n.isIE=function(){return/MSIE/.test(navigator.userAgent)},n.isIE11=function(){return/Windows/.test(navigator.userAgent)&&/rv:11.0/.test(navigator.userAgent)},n.isIE9=function(){return/MSIE 9.0/.test(navigator.userAgent)},n.isFirefox=function(){return/Firefox/.test(navigator.userAgent)},n.isWindowsPhone=function(){return/Windows Phone/i.test(navigator.userAgent)},n.isIpad=function(){return/iPad/i.test(navigator.userAgent)},n.closeMobileKeyboard=function(){var t;return null!=(t=document.activeElement)&&t.blur(),e("input").blur()},n.supportsMP4=function(){return!!document.createElement("video").canPlayType("video/mp4; codecs=avc1.42E01E,mp4a.40.2")},n.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},n.padNumbers=function(e,t){var n;for(null==t&&(t=2),n=e+"";n.length<t;)n="0"+n;return n},n.placeholderFix=function(){return this.isIE9()?e("input").each(function(){var t;return t=e(this),""===t.val()&&""!==t.attr("placeholder")?(t.val(t.attr("placeholder")),t.off("focus"),t.on("focus",function(){return e(this).val()===e(this).attr("placeholder")?e(this).val(""):void 0}),t.off("blur"),t.on("blur",function(){return""===e(this).val()?e(this).val(e(this).attr("placeholder")):void 0})):void 0}):void 0},n.turnOffAutoPlayRoyalSlider=function(t){return null==t&&(t=0),setTimeout(function(){return e(".royalSlider").each(function(){var t;return null!=(t=e(this).data("royalSlider"))?t.stopAutoPlay():void 0})},t)},n.turnOnAutoPlayRoyalSlider=function(t){return null==t&&(t=0),setTimeout(function(){return e(".royalSlider").each(function(){var t;return null!=(t=e(this).data("royalSlider"))?t.startAutoPlay():void 0})},t)},n.waypointsRefresh=function(){return window.waypointsRefresh=setInterval(function(){return function(){return null!=e?e.waypoints("refresh"):void 0}}(this),250)},n.killWaypointsRefresh=function(){return window.waypointsRefresh?clearInterval(window.waypointsRefresh):void 0},n.forceRedraw=function(e){var t,n;e&&(n=document.createTextNode(" "),t=e.style.display,e.appendChild(n),e.style.display="none",setTimeout(function(){e.style.display=t,n.parentNode.removeChild(n)},20))},n.equalHeight=function(t){var n,r;return t.length&&!e("body").hasClass("is-mobile")?(t.removeAttr("style"),n=new Array,t.each(function(t){return n[t]=e(this).height()}),r=n.reduce(function(e,t){return e>t?e:t}),t.css({height:r})):void 0},n.updateQueryStringParameter=function(e,t,n){var r,a;return r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a="",a=-1!==e.indexOf("?")?"&":"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+a+t+"="+n},n.convertDataScript=function(){return e("[data-placeholder-script]").each(function(){var t,n,r;return t=e(this),n=" ",e.each(t.get(0).attributes,function(e,t){return"data-placeholder-script"!==t.name?n+=""+t.name+"='"+t.value+"'":void 0}),r=t.html(),t.replaceWith("<script "+n+">"+r+"</script>")})},n.getModalContainer=function(){return e.cookie(window.app.ModalContainerCookie)},n.setModalContainer=function(){var t;return t=e("html").hasClass("modal-on"),t||e.cookie(window.app.ModalContainerCookie,window.location.pathname,{expires:1,path:"/"})},n.checkPageHeader=function(t){var n,r;return n=e(".page-header-holder"),r=t.children().length||!t.hasClass("page-header-holder")&&t.filter("*").length,r?n.removeClass("is-empty"):n.addClass("is-empty")},n.setSponsoredBackground=function(){var t,n,r;return t=e("#mainContent"),n=e(".wrapper:eq(0)"),r=t.data()||{},r.takeoverTheme?(n.removeClass("background-takeover takeover-light takeover-dark").addClass("background-takeover takeover-"+r.takeoverTheme),n.css({"background-image":"url("+r.takeoverBackground+")"})):(n.removeClass("background-takeover takeover-light takeover-dark"),n.removeAttr("style"))},n.parseUrl=function(e){var t;return t=document.createElement("a"),t.href=e,""===t.hostname&&(t.href=t.href),t},n.renderBeginAnalyticsLink=function(t,n,r){var a;return a="",void 0!==n&&(a=' data-ga-category="'+n.category+'" data-ga-label="'+n.label+'" data-ga-action="'+n.action+'" '),void 0!==r&&e.each(r,function(e,t){return void 0!==t&&""!==t?a+=" "+e+'="'+t+'" ':void 0}),'<a href="'+t+'" '+a+" data-use-ga>"},n.renderAnalyticsLink=function(e,t,n,r){var a;return a=this.renderBeginAnalyticsLink(e,n,r),""+a+t+"</a>"},n}()});